---
title: TGF Data Dive
date: 2022-03-19
tags: ['experiments', 'tech', 'dataviz', 'parkrun']
socialImage: '../images/post-images/parkrun1.jpg'
postImages:
  - '../images/post-images/tgf-buses.jpg'
  - '../images/post-images/parkrun2.jpg'
  - '../images/post-images/parkrun3.jpg'
---

import { getImage, GatsbyImage } from 'gatsby-plugin-image'
import Barchart from '../components/charts/barchart'
import Linechart from '../components/charts/linechart'

The folks who follow [me on twitter](https://twitter.com/_disco) will have possibly noticed that parkrun has become a bit of an obsession for me lately. There are a few reasons for this which I'm sure i'll write about another day. The short story though is that I'm currently loving it and in my spare time I volunteer as part of the core event team for [The Great Field parkrun](https://www.parkrun.org.uk/thegreatfield/) which is conveniently just a few mins walk from my front door in Poundbury, Dorset.

This week I decided it'd be an interesting exercise to pull together some of our event data to see what I could learn about our little community event so far. For context i'm no crack data scientist or analyst but thought it'd be an interesting challenge for me to blow the cobwebs off my limited skills and share some of what I found. If the 'how I did this' bit doesn't interest you feel free to [skip down to the insights](#insights). üå≥‚ù§Ô∏è

## Method

Glancing through the the stats on the parkrun website confirmed by suspcisions that the data volume for just my local event wouldn't be sizeable enough (yet) to mean that I'd need anything too complex in terms of tools to understand the data. Just getting all of the results into a single spreadsheet would be the simplest and most accessible way for me (and anybody else who might be interested) to start to doing basic analysis.

The parkrun tech fairies do an amazing job of making sure results from every event across the globe are published in table form on the website every week and I started by just copying and pasting these into google sheets. It soon became a chore to try and tidy up and clean the HTML elements to get things in the right place and it certainly didn't feel something I'd want to repeat very often.

Some basic research around available [parkrun APIs](https://developer.parkrun.com/) were a bit hit and miss. Plans for anything official look like they had been shelved a while back (which is sad but also understandable). The nerdier elements of the parkrun community (there are lots of us) have seemingly tried to fill these gaps over time by creating many things in this space but many were outdated, poorly documented. [Some seem promising](https://parkrun.js.org/index.html) but added more complexity than I wanted to consider right now.

I decided a suitable compromise would be to use my web browser to [save local copies](https://www.dummies.com/article/technology/internet-basics/how-to-save-a-web-page-in-google-chrome-140687]) of the 20 event results pages into a folder and then create a script to make the process of extracting the data and adding it to a single spreadsheet friendly file of comma seperated values(csv) a little less tedious. I will keep looking into some of these other aproaches/tools though as there are limits baked into the results pages that are I'd like to explore (like knowing more about volunteers on the day, and knowing an athletes 'home' parkrun).

Given I am not a developer and that I've never done this before the process of creating the script involved more than a little bit of trial and error, lots of googling and some swearing but what I've written works! üéâ The resulting script means I can now easily append my dataset with new results every week with a couple of clicks. I could likely also automate this part of the process but that's an experiment for another day. The script itself with a short README file is [available on github](https://github.com/d1sc0/tgf-parkrun-stats) if you have [node](https://nodejs.org/en/) running on your computer, delight in hacking things together and want to achieve something similar. For any readers who can write code properly, please be kind - I was born before the internet!

In terms of creating the graphs included on this page I've used a react library called [react-chartjs-2](https://www.npmjs.com/package/react-chartjs-2) to present the data as chart components embedded into this [mdx](https://mdxjs.com/) formatted post on my [Gatsby blog](https://www.gatsbyjs.com/). Screenshots of graphs from the spreadsheet would have also been fine...but far less satisfying for my inner geek.

## Insights <a id="insights"></a>

Over our 20 events we've had people run, jog or walk our 5km course 5355 times. Added up our participants have covered an incredible **26,675km**! Which is not far from 67% of the distance around planet earth (if you follow the eqautor). Given our attendance average is about 266 runners (1,330km per week) we should complete our trip around the earth by the time we hit our 30th event! üöÄ üåé

Those 5355 finishers actually equate to about **1852 real human beings** attending our event at the Great Field. I say 'about' as within our result set we have 288 unknowns. This could be made up of real people who've forgotten to bring a barcode, maybe never registered or a results error caused during timekeeping, token sorting etc. We also know that every week we have an amount of small people safely wrapped up in running buggies that won't be included in our results (the TGF parkrun next generation). To put this number in perspecitve our 1852 particpants would fill just over **14 London buses** to the brim (with 80 people seated and 50 people standing). This analysis also doesn't include our 4-legged friends üê© - I have no data for this but I think it'd be sensible for us to include 1 more bus for good measure.

<GatsbyImage
  alt="14 buses plus one for the hounds"
  title="14 buses plus one for the doggies"
  image={getImage(props.frontmatter.postImages[0])}
  className="imageFull"
/>

### 20 event summary (numbers, particpants, stalwarts, distance covered)

<Linechart />

### Attendance (distribution age, sex, clubs)

### Times/performance (fastest, slowest, average times over events, distribution of runners by 5 min chunks? number of walkers)

###

[Icon credits: London Bus by ATOM, Dog by Loka Mariella both found at NounProject.com]
